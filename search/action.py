# -*-coding:utf-8 -*-from django.shortcuts import render,redirect,render_to_responsefrom django.http import HttpResponse,HttpResponseRedirect,JsonResponse,request,Http404import refrom django.db.models import Qfrom newsweb.models import *from scripts import functionsdef function_search(key_word):	dict_key_word = eval(key_word)	title = dict_key_word.get('title')	source = dict_key_word.get('source')	start = dict_key_word.get('start')	end = dict_key_word.get('end')	# if source == 'mondaq':		# res = mondaq.objects.filter(Q(title__contains=title)).values()	print(start,end)	startdate = start.split('/')[2]+'-'+ start.split('/')[0]+'-'+start.split('/')[1]+' 00:00:00'	enddate = end.split('/')[2]+'-'+ end.split('/')[0]+'-'+end.split('/')[1]+' 00:00:00'	print(startdate,enddate)	if title == '':		print('标题为空：',title)		res = functions.QuerySearchNoTitle(source, startdate, enddate)	else:		res = functions.QuerySearch(source,title,startdate,enddate)	# print(res)	return res	def action_search(request,key_word):	res= function_search(key_word)	context = {		'data':res,	}	return render(request,'search/search_list.html',context)		